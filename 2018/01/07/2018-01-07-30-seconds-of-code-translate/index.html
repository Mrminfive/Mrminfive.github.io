<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><title>30s代码片段翻译 | MINFIVE BLOG</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="author" content="[object Object]"><meta name="designer" content="minfive"><meta name="keywords" content="minfive, minfive blog, 前端博客, 前端, 程序员, 前端开发, 全栈开发, node.js, javascript"><meta name="description" content="日常学习与兴趣交流的个人博客"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=yes"><meta name="mobile-web-app-capable" content="yes"><meta name="robots" content="all"><link rel="canonical" href="http://blog.minfive.com/2018/01/07/2018-01-07-30-seconds-of-code-translate/index.html"><link rel="icon" type="image/png" href="https://blog.static.minfive.com/other/favicon.ico" sizes="32x32"><link rel="stylesheet" href="/scss/base/index.css"><link rel="alternate" href="/atom.xml" title="MINFIVE"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?e3267498201dfa9699a5c509424709d6";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><link rel="stylesheet" href="/scss/views/page/post.css"></head><body ontouchstart=""><div id="page-loading" class="page page-loading" style="background-image:url(https://blog.static.minfive.com/other/loader.gif)"></div><div id="page" class="page js-hidden"><header class="page__small-header page__header--small"><nav class="page__navbar"><div class="page__container navbar-container"><a class="page__logo" href="/" title="MINFIVE" alt="MINFIVE"><img src="https://blog.static.minfive.com/other/logo-text-white.png" alt="MINFIVE"></a><nav class="page__nav"><ul class="nav__list clearfix"><li class="nav__item"><a href="/" alt="首页" title="首页">首页</a></li><li class="nav__item"><a href="/archives" alt="归档" title="归档">归档</a></li><li class="nav__item"><a href="/demo" alt="作品" title="作品">作品</a></li><li class="nav__item"><a href="/music" alt="音乐" title="音乐">音乐</a></li><li class="nav__item"><a href="/about" alt="关于" title="关于">关于</a></li></ul></nav><button class="page__menu-btn" type="button"><i class="iconfont icon-menu"></i></button></div></nav></header><main class="page__container page__main"><div class="page__content"><article class="page__post"><div class="post__cover"><img src="https://blog.static.minfive.com/post/18-01-07/30-secinds-of-code.png" alt="30s代码片段翻译"></div><header class="post__info"><h1 class="post__title">30s代码片段翻译</h1><div class="post__mark"><div class="mark__block"><i class="mark__icon iconfont icon-write"></i><ul class="mark__list clearfix"><li class="mark__item"><a href="https://github.com/Mrminfive">minfive</a></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-time"></i><ul class="mark__list clearfix"><li class="mark__item"><span>2018年1月7日</span></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-tab"></i><ul class="mark__list clearfix"><li class="mark__item"><a href="/tags/javascript/">Javascript</a></li><li class="mark__item"><a href="/tags/翻译/">翻译</a></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-eye"></i><ul class="mark__list clearfix"><li id="busuanzi_container_page_pv" class="mark__item"><span id="busuanzi_value_page_pv"></span>次</li></ul></div></div></header><div class="post__content"><blockquote><p>这是对 github 上<a href="https://github.com/Chalarangelo/30-seconds-of-code" target="_blank" rel="noopener">30s代码片段</a>的翻译整理，由于作者的文档是通过脚本生成的，也就懒得去提pull了，整理了放到博客上供大家学习参考，后续会持续跟进翻译。</p></blockquote><h2 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h2><h3 id="Array-concatenation-合并参数"><a href="#Array-concatenation-合并参数" class="headerlink" title="Array concatenation (合并参数)"></a>Array concatenation (合并参数)</h3><p>使用 <code>Array.concat()</code> 来连接参数中的任何数组或值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrayConcat = <span class="function">(<span class="params">arr, ...args</span>) =&gt;</span> arr.concat(...args);</span><br><span class="line"><span class="comment">// arrayConcat([1], 2, [3], [[4]]) -&gt; [1,2,3,[4]]</span></span><br></pre></td></tr></table></figure><h3 id="Array-difference-取数组不同项"><a href="#Array-difference-取数组不同项" class="headerlink" title="Array difference (取数组不同项)"></a>Array difference (取数组不同项)</h3><p>以 <code>b</code> 创建 <code>Set</code>，然后使用 <code>Array.filter()</code> 过滤，只保留 <code>b</code> 中不包含的值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> difference = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123; <span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>(b); <span class="keyword">return</span> a.filter(<span class="function"><span class="params">x</span> =&gt;</span> !s.has(x)); &#125;;</span><br><span class="line"><span class="comment">// difference([1,2,3], [1,2]) -&gt; [3]</span></span><br></pre></td></tr></table></figure><h3 id="Array-intersection-取数组相同项"><a href="#Array-intersection-取数组相同项" class="headerlink" title="Array intersection (取数组相同项)"></a>Array intersection (取数组相同项)</h3><p>以 <code>b</code> 创建 <code>Set</code>，然后使用 <code>Array.filter()</code> 过滤，只保留 <code>b</code> 中包含的值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> intersection = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123; <span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>(b); <span class="keyword">return</span> a.filter(<span class="function"><span class="params">x</span> =&gt;</span> s.has(x)); &#125;;</span><br><span class="line"><span class="comment">// intersection([1,2,3], [4,3,2]) -&gt; [2,3]</span></span><br></pre></td></tr></table></figure><h3 id="Array-union-合并数组去重"><a href="#Array-union-合并数组去重" class="headerlink" title="Array union (合并数组去重)"></a>Array union (合并数组去重)</h3><p>用 <code>a</code> 和 <code>b</code> 的所有值创建一个 <code>Set</code> 并转换成一个数组。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> union = <span class="function">(<span class="params">a, b</span>) =&gt;</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>([...a, ...b]));</span><br><span class="line"><span class="comment">// union([1,2,3], [4,3,2]) -&gt; [1,2,3,4]</span></span><br></pre></td></tr></table></figure><h3 id="Average-of-array-of-numbers-通过数组取平均值"><a href="#Average-of-array-of-numbers-通过数组取平均值" class="headerlink" title="Average of array of numbers (通过数组取平均值)"></a>Average of array of numbers (通过数组取平均值)</h3><p>使用 <code>Array.reduce()</code> 将每个值添加到一个累加器，用值 <code>0</code> 初始化，除以数组的长度。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> average = <span class="function"><span class="params">arr</span> =&gt;</span> arr.reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> acc + val, <span class="number">0</span>) / arr.length;</span><br><span class="line"><span class="comment">// average([1,2,3]) -&gt; 2</span></span><br></pre></td></tr></table></figure><h3 id="Chunk-array-数组切块"><a href="#Chunk-array-数组切块" class="headerlink" title="Chunk array (数组切块)"></a>Chunk array (数组切块)</h3><p>使用 <code>Array.from()</code> 创建一个满足块的数量的新的数组。<br>使用 <code>Array.slice()</code> 将新数组的每个元素映射到 <code>size</code> 长度的块。<br>如果原始数组不能均匀分割，最后的块将包含剩余的元素。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> chunk = <span class="function">(<span class="params">arr, size</span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="built_in">Math</span>.ceil(arr.length / size)&#125;, (v, i) =&gt; arr.slice(i * size, i * size + size));</span><br><span class="line"><span class="comment">// chunk([1,2,3,4,5], 2) -&gt; [[1,2],[3,4],5]</span></span><br></pre></td></tr></table></figure><h3 id="Compact-压缩"><a href="#Compact-压缩" class="headerlink" title="Compact (压缩)"></a>Compact (压缩)</h3><p>使用 <code>Array.filter()</code> 去过滤掉假值（<code>false</code>, <code>null</code>, <code>0</code>, <code>&quot;&quot;</code>, <code>undefined</code> 和 <code>NaN</code>）。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compact = <span class="function">(<span class="params">arr</span>) =&gt;</span> arr.filter(<span class="function"><span class="params">v</span> =&gt;</span> v);</span><br><span class="line"><span class="comment">// compact([0, 1, false, 2, '', 3, 'a', 'e'*23, NaN, 's', 34]) -&gt; [ 1, 2, 3, 'a', 's', 34 ]</span></span><br></pre></td></tr></table></figure><h3 id="Count-occurrences-of-a-value-in-array-计算数组中指定值出现的次数"><a href="#Count-occurrences-of-a-value-in-array-计算数组中指定值出现的次数" class="headerlink" title="Count occurrences of a value in array (计算数组中指定值出现的次数)"></a>Count occurrences of a value in array (计算数组中指定值出现的次数)</h3><p>使用 <code>Array.reduce()</code> 去迭代数组，当值相同时，递增计数器。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> countOccurrences = <span class="function">(<span class="params">arr, value</span>) =&gt;</span> arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> v === value ? a + <span class="number">1</span> : a + <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// countOccurrences([1,1,2,1,2,3], 1) -&gt; 3</span></span><br></pre></td></tr></table></figure><h3 id="Deep-flatten-array-深度展开数组"><a href="#Deep-flatten-array-深度展开数组" class="headerlink" title="Deep flatten array (深度展开数组)"></a>Deep flatten array (深度展开数组)</h3><p>使用递归。<br>使用 <code>Array.reduce()</code> 获取所有不是数组的值，并将数组展开。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> deepFlatten = <span class="function"><span class="params">arr</span> =&gt;</span></span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> a.concat(<span class="built_in">Array</span>.isArray(v) ? deepFlatten(v) : v), []);</span><br><span class="line"><span class="comment">// deepFlatten([1,[2],[[3],4],5]) -&gt; [1,2,3,4,5]</span></span><br></pre></td></tr></table></figure><h3 id="Drop-elements-in-array-删除数组中的元素"><a href="#Drop-elements-in-array-删除数组中的元素" class="headerlink" title="Drop elements in array (删除数组中的元素)"></a>Drop elements in array (删除数组中的元素)</h3><p>循环访问数组，使用 <code>Array.shift()</code> 删除数组的第一个元素，直到函数的返回值为 <code>true</code>，返回其余的元素。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dropElements = <span class="function">(<span class="params">arr, func</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (arr.length &gt; <span class="number">0</span> &amp;&amp; !func(arr[<span class="number">0</span>])) arr.shift();</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// dropElements([1, 2, 3, 4], n =&gt; n &gt;= 3) -&gt; [3,4]</span></span><br></pre></td></tr></table></figure><h3 id="Fill-array-填充数组"><a href="#Fill-array-填充数组" class="headerlink" title="Fill array (填充数组)"></a>Fill array (填充数组)</h3><p>使用 <code>Array.map()</code> 将 <code>start</code>（包含）和 <code>end</code>（不包含）之间的值映射为 <code>value</code>。<br>省略 <code>start</code> 将从第一个元素开始／省略 <code>end</code> 将在数组最后结束。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fillArray = <span class="function">(<span class="params">arr, value, start = <span class="number">0</span>, end = arr.length</span>) =&gt;</span></span><br><span class="line">  arr.map(<span class="function">(<span class="params">v, i</span>) =&gt;</span> i &gt;= start &amp;&amp; i &lt; end ? value : v);</span><br><span class="line"><span class="comment">// fillArray([1,2,3,4],'8',1,3) -&gt; [1,'8','8',4]</span></span><br></pre></td></tr></table></figure><h3 id="Filter-out-non-unique-values-in-an-array-过滤掉数组中重复的值"><a href="#Filter-out-non-unique-values-in-an-array-过滤掉数组中重复的值" class="headerlink" title="Filter out non-unique values in an array (过滤掉数组中重复的值)"></a>Filter out non-unique values in an array (过滤掉数组中重复的值)</h3><p>使用 <code>Array.filter()</code> 保证数组仅包含唯一值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> filterNonUnique = <span class="function"><span class="params">arr</span> =&gt;</span> arr.filter(<span class="function"><span class="params">i</span> =&gt;</span> arr.indexOf(i) === arr.lastIndexOf(i));</span><br><span class="line"><span class="comment">// filterNonUnique([1,2,2,3,4,4,5]) -&gt; [1,3,5]</span></span><br></pre></td></tr></table></figure><h3 id="Flatten-array-up-to-depth-展开指定深度的数组"><a href="#Flatten-array-up-to-depth-展开指定深度的数组" class="headerlink" title="Flatten array up to depth (展开指定深度的数组)"></a>Flatten array up to depth (展开指定深度的数组)</h3><p>使用递归去递减深度。<br>使用 <code>Array.reduce()</code> 和 <code>Array.concat()</code> 来合并元素或数组。<br>基本情况下，当深度为 <code>1</code> 时停止递归。<br>省略第二个参数，展开深度为 <code>1</code>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flattenDepth = <span class="function">(<span class="params">arr, depth = <span class="number">1</span></span>) =&gt;</span></span><br><span class="line">  depth != <span class="number">1</span> ? arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> a.concat(<span class="built_in">Array</span>.isArray(v) ? flattenDepth(v, depth - <span class="number">1</span>) : v), [])</span><br><span class="line">  : arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> a.concat(v), []);</span><br><span class="line"><span class="comment">// flattenDepth([1,[2],[[[3],4],5]], 2) -&gt; [1,2,[3],4,5]</span></span><br></pre></td></tr></table></figure><h3 id="Flatten-array-拼合数组"><a href="#Flatten-array-拼合数组" class="headerlink" title="Flatten array (拼合数组)"></a>Flatten array (拼合数组)</h3><p>使用 <code>Array.reduce()</code> 来获取内部所有元素并用 <code>concat()</code> 合并它们。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flatten = <span class="function"><span class="params">arr</span> =&gt;</span> arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> a.concat(v), []);</span><br><span class="line"><span class="comment">// flatten([1,[2],3,4]) -&gt; [1,2,3,4]</span></span><br></pre></td></tr></table></figure><h3 id="Get-max-value-from-array-获取数组中的最大值"><a href="#Get-max-value-from-array-获取数组中的最大值" class="headerlink" title="Get max value from array (获取数组中的最大值)"></a>Get max value from array (获取数组中的最大值)</h3><p>使用 <code>Math.max()</code> 配合 <code>...</code> 扩展运算符去获取数组中的最大值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrayMax = <span class="function"><span class="params">arr</span> =&gt;</span> <span class="built_in">Math</span>.max(...arr);</span><br><span class="line"><span class="comment">// arrayMax([10, 1, 5]) -&gt; 10</span></span><br></pre></td></tr></table></figure><h3 id="Get-min-value-from-array-获取数组中的最小值"><a href="#Get-min-value-from-array-获取数组中的最小值" class="headerlink" title="Get min value from array (获取数组中的最小值)"></a>Get min value from array (获取数组中的最小值)</h3><p>使用 <code>Math.max()</code> 配合 <code>...</code> 扩展运算符去获取数组中的最小值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrayMin = <span class="function"><span class="params">arr</span> =&gt;</span> <span class="built_in">Math</span>.min(...arr);</span><br><span class="line"><span class="comment">// arrayMin([10, 1, 5]) -&gt; 1</span></span><br></pre></td></tr></table></figure><h3 id="Group-by-条件分组"><a href="#Group-by-条件分组" class="headerlink" title="Group by (条件分组)"></a>Group by (条件分组)</h3><p>使用 <code>Array.map()</code> 将数组的值映射到函数或属性名称。<br>使用 <code>Array.reduce()</code> 创建一个对象，其中的键是从映射的结果中产生的。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> groupBy = <span class="function">(<span class="params">arr, func</span>) =&gt;</span></span><br><span class="line">  arr.map(<span class="keyword">typeof</span> func === <span class="string">'function'</span> ? func : <span class="function"><span class="params">val</span> =&gt;</span> val[func])</span><br><span class="line">    .reduce(<span class="function">(<span class="params">acc, val, i</span>) =&gt;</span> &#123; acc[val] = (acc[val] || []).concat(arr[i]); <span class="keyword">return</span> acc; &#125;, &#123;&#125;);</span><br><span class="line"><span class="comment">// groupBy([6.1, 4.2, 6.3], Math.floor) -&gt; &#123;4: [4.2], 6: [6.1, 6.3]&#125;</span></span><br><span class="line"><span class="comment">// groupBy(['one', 'two', 'three'], 'length') -&gt; &#123;3: ['one', 'two'], 5: ['three']&#125;</span></span><br></pre></td></tr></table></figure><h3 id="Head-of-list-获取数组的首个元素"><a href="#Head-of-list-获取数组的首个元素" class="headerlink" title="Head of list (获取数组的首个元素)"></a>Head of list (获取数组的首个元素)</h3><p>使用 <code>arr[0]</code> 返回传递数组的第一个元素。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> head = <span class="function"><span class="params">arr</span> =&gt;</span> arr[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// head([1,2,3]) -&gt; 1</span></span><br></pre></td></tr></table></figure><h3 id="Initial-of-list"><a href="#Initial-of-list" class="headerlink" title="Initial of list"></a>Initial of list</h3><p>使用 <code>arr,slice(0, -1)</code> 去返回去除最后一个元素的数组。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initial = <span class="function"><span class="params">arr</span> =&gt;</span> arr.slice(<span class="number">0</span>, <span class="number">-1</span>);</span><br><span class="line"><span class="comment">// initial([1,2,3]) -&gt; [1,2]</span></span><br></pre></td></tr></table></figure><h3 id="Initialize-array-with-range-使用指定范围来定义数组"><a href="#Initialize-array-with-range-使用指定范围来定义数组" class="headerlink" title="Initialize array with range (使用指定范围来定义数组)"></a>Initialize array with range (使用指定范围来定义数组)</h3><p>使用 <code>Array(end-start)</code> 创建一个所需长度的数组，使用 <code>Array.map()</code> 来填充范围中的所需值。<br>你可以省略<code>start</code>，默认值为 <code>0</code>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initializeArrayRange = <span class="function">(<span class="params">end, start = <span class="number">0</span></span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.apply(<span class="literal">null</span>, <span class="built_in">Array</span>(end - start)).map(<span class="function">(<span class="params">v, i</span>) =&gt;</span> i + start);</span><br><span class="line"><span class="comment">// initializeArrayRange(5) -&gt; [0,1,2,3,4]</span></span><br></pre></td></tr></table></figure><h3 id="Initialize-array-with-values-使用指定值来定义数组"><a href="#Initialize-array-with-values-使用指定值来定义数组" class="headerlink" title="Initialize array with values (使用指定值来定义数组)"></a>Initialize array with values (使用指定值来定义数组)</h3><p>使用 <code>Array(n)</code> 创建一个所需长度的数组，使用 <code>fill(v)</code> 去填充所需要的值。<br>亦可以省略 <code>value</code>，默认值为 <code>0</code>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initializeArray = <span class="function">(<span class="params">n, value = <span class="number">0</span></span>) =&gt;</span> <span class="built_in">Array</span>(n).fill(value);</span><br><span class="line"><span class="comment">// initializeArray(5, 2) -&gt; [2,2,2,2,2]</span></span><br></pre></td></tr></table></figure><h3 id="Last-of-list-获取数组的结尾"><a href="#Last-of-list-获取数组的结尾" class="headerlink" title="Last of list (获取数组的结尾)"></a>Last of list (获取数组的结尾)</h3><p>使用 <code>arr.slice(-1)[0]</code> 获得给定数组的最后一个元素。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> last = <span class="function"><span class="params">arr</span> =&gt;</span> arr.slice(<span class="number">-1</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// last([1,2,3]) -&gt; 3</span></span><br></pre></td></tr></table></figure><h3 id="Median-of-array-of-numbers-获取数组的中间值"><a href="#Median-of-array-of-numbers-获取数组的中间值" class="headerlink" title="Median of array of numbers (获取数组的中间值)"></a>Median of array of numbers (获取数组的中间值)</h3><p>找到数组的中间，使用 <code>Array.sort()</code> 对值进行排序。<br>如果长度是奇数，则返回中点处的数字，否则返回两个中间数字的平均值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> median = <span class="function"><span class="params">arr</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> mid = <span class="built_in">Math</span>.floor(arr.length / <span class="number">2</span>), nums = arr.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line">  <span class="keyword">return</span> arr.length % <span class="number">2</span> !== <span class="number">0</span> ? nums[mid] : (nums[mid - <span class="number">1</span>] + nums[mid]) / <span class="number">2</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// median([5,6,50,1,-5]) -&gt; 5</span></span><br><span class="line"><span class="comment">// median([0,10,-2,7]) -&gt; 3.5</span></span><br></pre></td></tr></table></figure><h3 id="Nth-element-of-array-获取数组的第-N-个元素"><a href="#Nth-element-of-array-获取数组的第-N-个元素" class="headerlink" title="Nth element of array (获取数组的第 N 个元素)"></a>Nth element of array (获取数组的第 N 个元素)</h3><p>使用 <code>Array.slice()</code> 得到一个包含第一个元素的数组。<br>如果索引超出范围，则返回 <code>[]</code>。（译者注：超过索引返回 <code>undefind</code>）<br>省略第二个参数 <code>n</code> 来获取数组的第一个元素。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nth = <span class="function">(<span class="params">arr, n=<span class="number">0</span></span>) =&gt;</span> (n&gt;<span class="number">0</span>? arr.slice(n,n+<span class="number">1</span>) : arr.slice(n))[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// nth(['a','b','c'],1) -&gt; 'b'</span></span><br><span class="line"><span class="comment">// nth(['a','b','b']-2) -&gt; 'a'</span></span><br></pre></td></tr></table></figure><h3 id="Pick-挑选"><a href="#Pick-挑选" class="headerlink" title="Pick (挑选)"></a>Pick (挑选)</h3><p>使用 <code>Array.reduce()</code> 去过滤／挑选存在于 obj 中的 key 值，并转换回相应的键值对的对象。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pick = <span class="function">(<span class="params">obj, arr</span>) =&gt;</span></span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">acc, curr</span>) =&gt;</span> (curr <span class="keyword">in</span> obj &amp;&amp; (acc[curr] = obj[curr]), acc), &#123;&#125;);</span><br><span class="line"><span class="comment">// pick(&#123; 'a': 1, 'b': '2', 'c': 3 &#125;, ['a', 'c']) -&gt; &#123; 'a': 1, 'c': 3 &#125;</span></span><br><span class="line"><span class="comment">// pick(object, ['a', 'c'])['a'] -&gt; 1</span></span><br></pre></td></tr></table></figure><h3 id="Shuffle-array-随机数组"><a href="#Shuffle-array-随机数组" class="headerlink" title="Shuffle array (随机数组)"></a>Shuffle array (随机数组)</h3><p>使用 <code>Array.sort()</code> 在比较器中使用 <code>Math.random()</code> 重新排序元素。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shuffle = <span class="function"><span class="params">arr</span> =&gt;</span> arr.sort(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">Math</span>.random() - <span class="number">0.5</span>);</span><br><span class="line"><span class="comment">// shuffle([1,2,3]) -&gt; [2,3,1]</span></span><br></pre></td></tr></table></figure><h3 id="Similarity-between-arrays-获取数组的交集"><a href="#Similarity-between-arrays-获取数组的交集" class="headerlink" title="Similarity between arrays (获取数组的交集)"></a>Similarity between arrays (获取数组的交集)</h3><p>使用 <code>filter()</code> 移除不是 <code>values</code> 的一部分的值，使用 <code>includes()</code> 确定。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> similarity = <span class="function">(<span class="params">arr, values</span>) =&gt;</span> arr.filter(<span class="function"><span class="params">v</span> =&gt;</span> values.includes(v));</span><br><span class="line"><span class="comment">// similarity([1,2,3], [1,2,4]) -&gt; [1,2]</span></span><br></pre></td></tr></table></figure><h3 id="Sum-of-array-of-numbers-数组的总和"><a href="#Sum-of-array-of-numbers-数组的总和" class="headerlink" title="Sum of array of numbers (数组的总和)"></a>Sum of array of numbers (数组的总和)</h3><p>使用 <code>Array.reduce()</code> 去迭代值并计算累计器，初始值为 <code>0</code>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sum = <span class="function"><span class="params">arr</span> =&gt;</span> arr.reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> acc + val, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// sum([1,2,3,4]) -&gt; 10</span></span><br></pre></td></tr></table></figure><h3 id="Tail-of-list-列表的尾巴"><a href="#Tail-of-list-列表的尾巴" class="headerlink" title="Tail of list (列表的尾巴)"></a>Tail of list (列表的尾巴)</h3><p>如果数组的长度大于1，则返回 <code>arr.slice(1)</code>，否则返回整个数组。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tail = <span class="function"><span class="params">arr</span> =&gt;</span> arr.length &gt; <span class="number">1</span> ? arr.slice(<span class="number">1</span>) : arr;</span><br><span class="line"><span class="comment">// tail([1,2,3]) -&gt; [2,3]</span></span><br><span class="line"><span class="comment">// tail([1]) -&gt; [1]</span></span><br></pre></td></tr></table></figure><h3 id="Take-抽取"><a href="#Take-抽取" class="headerlink" title="Take (抽取)"></a>Take (抽取)</h3><p>使用 <code>Array.slice()</code> 从头开始创建 <code>n</code> 个元素的数组。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> take = <span class="function">(<span class="params">arr, n = <span class="number">1</span></span>) =&gt;</span> arr.slice(<span class="number">0</span>, n);</span><br><span class="line"><span class="comment">// take([1, 2, 3], 5) -&gt; [1, 2, 3]</span></span><br><span class="line"><span class="comment">// take([1, 2, 3], 0) -&gt; []</span></span><br></pre></td></tr></table></figure><h3 id="Unique-values-of-array-数组去重"><a href="#Unique-values-of-array-数组去重" class="headerlink" title="Unique values of array (数组去重)"></a>Unique values of array (数组去重)</h3><p>使用ES6 <code>Set</code> 和 <code>...rest</code> 运算符去除所有重复的值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> unique = <span class="function"><span class="params">arr</span> =&gt;</span> [...new <span class="built_in">Set</span>(arr)];</span><br><span class="line"><span class="comment">// unique([1,2,2,3,4,4,5]) -&gt; [1,2,3,4,5]</span></span><br></pre></td></tr></table></figure><h2 id="Browser"><a href="#Browser" class="headerlink" title="Browser"></a>Browser</h2><h3 id="Bottom-visible-底部可见即滚动至底部"><a href="#Bottom-visible-底部可见即滚动至底部" class="headerlink" title="Bottom visible (底部可见即滚动至底部)"></a>Bottom visible (底部可见即滚动至底部)</h3><p>使用 <code>scrollY</code>，<code>scrollHeight</code> 和 <code>clientHeight</code> 来确定页面的底部是否可见。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bottomVisible = <span class="function"><span class="params">_</span> =&gt;</span></span><br><span class="line">  <span class="built_in">document</span>.documentElement.clientHeight + <span class="built_in">window</span>.scrollY &gt;= (<span class="built_in">document</span>.documentElement.scrollHeight || <span class="built_in">document</span>.documentElement.clientHeight);</span><br><span class="line"><span class="comment">// bottomVisible() -&gt; true</span></span><br></pre></td></tr></table></figure><h3 id="Current-URL-当前链接地址"><a href="#Current-URL-当前链接地址" class="headerlink" title="Current URL (当前链接地址)"></a>Current URL (当前链接地址)</h3><p>使用 <code>window.location.href</code> 来获取当前链接地址。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> currentUrl = <span class="function"><span class="params">_</span> =&gt;</span> <span class="built_in">window</span>.location.href;</span><br><span class="line"><span class="comment">// currentUrl() -&gt; 'https://google.com'</span></span><br></pre></td></tr></table></figure><h3 id="Element-is-visible-in-viewport-元素在视窗中可见"><a href="#Element-is-visible-in-viewport-元素在视窗中可见" class="headerlink" title="Element is visible in viewport (元素在视窗中可见)"></a>Element is visible in viewport (元素在视窗中可见)</h3><p>使用 <code>Element.getBoundingClientRect()</code> 和 <code>window.inner(Width|Height)</code> 值来确定给定的元素在视口中是否可见。<br>第二个参数用来指定元素是否要求完全可见，指定 <code>true</code> 即部分可见，默认为全部可见。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> elementIsVisibleInViewport = <span class="function">(<span class="params">el, partiallyVisible = <span class="literal">false</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; top, left, bottom, right &#125; = el.getBoundingClientRect();</span><br><span class="line">  <span class="keyword">return</span> partiallyVisible</span><br><span class="line">    ? ((top &gt; <span class="number">0</span> &amp;&amp; top &lt; innerHeight) || (bottom &gt; <span class="number">0</span> &amp;&amp; bottom &lt; innerHeight)) &amp;&amp;</span><br><span class="line">      ((left &gt; <span class="number">0</span> &amp;&amp; left &lt; innerWidth) || (right &gt; <span class="number">0</span> &amp;&amp; right &lt; innerWidth))</span><br><span class="line">    : top &gt;= <span class="number">0</span> &amp;&amp; left &gt;= <span class="number">0</span> &amp;&amp; bottom &lt;= innerHeight &amp;&amp; right &lt;= innerWidth;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// e.g. 100x100 viewport and a 10x10px element at position &#123;top: -1, left: 0, bottom: 9, right: 10&#125;</span></span><br><span class="line"><span class="comment">// elementIsVisibleInViewport(el) -&gt; false (not fully visible)</span></span><br><span class="line"><span class="comment">// elementIsVisibleInViewport(el, true) -&gt; true (partially visible)</span></span><br></pre></td></tr></table></figure><h3 id="Get-scroll-position-获取滚动位置"><a href="#Get-scroll-position-获取滚动位置" class="headerlink" title="Get scroll position (获取滚动位置)"></a>Get scroll position (获取滚动位置)</h3><p>如果存在，使用 <code>pageXOffset</code> 和 <code>pageYOffset</code>，否则使用 <code>scrollLeft</code> 和 <code>scrollTop</code>。<br>你可以省略 <code>el</code>，默认使用 <code>window</code>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getScrollPos = <span class="function">(<span class="params">el = <span class="built_in">window</span></span>) =&gt;</span></span><br><span class="line">  (&#123;<span class="attr">x</span>: (el.pageXOffset !== <span class="literal">undefined</span>) ? el.pageXOffset : el.scrollLeft,</span><br><span class="line">    y: (el.pageYOffset !== <span class="literal">undefined</span>) ? el.pageYOffset : el.scrollTop&#125;);</span><br><span class="line"><span class="comment">// getScrollPos() -&gt; &#123;x: 0, y: 200&#125;</span></span><br></pre></td></tr></table></figure><h3 id="Redirect-to-URL-URL-重定向"><a href="#Redirect-to-URL-URL-重定向" class="headerlink" title="Redirect to URL (URL 重定向)"></a>Redirect to URL (URL 重定向)</h3><p>使用 <code>window.location.href</code> 或者 <code>window.location.replace()</code> 去重定向到 <code>url</code>。<br>第二个参数用来控制模拟链接点击（<code>true</code> - 默认）还是 HTTP 重定向（<code>false</code>）。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> redirect = <span class="function">(<span class="params">url, asLink = <span class="literal">true</span></span>) =&gt;</span></span><br><span class="line">  asLink ? <span class="built_in">window</span>.location.href = url : <span class="built_in">window</span>.location.replace(url);</span><br><span class="line"><span class="comment">// redirect('https://google.com')</span></span><br></pre></td></tr></table></figure><h3 id="Scroll-to-top-滚动至顶部"><a href="#Scroll-to-top-滚动至顶部" class="headerlink" title="Scroll to top (滚动至顶部)"></a>Scroll to top (滚动至顶部)</h3><p>使用 <code>document.documentElement.scrollTop</code> 或 <code>document.body.scrollTop</code> 获取到顶端的距离。<br>从顶部滚动一小部分距离。 使用 <code>window.requestAnimationFrame（）</code> 实现滚动动画。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> scrollToTop = <span class="function"><span class="params">_</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> c = <span class="built_in">document</span>.documentElement.scrollTop || <span class="built_in">document</span>.body.scrollTop;</span><br><span class="line">  <span class="keyword">if</span> (c &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">window</span>.requestAnimationFrame(scrollToTop);</span><br><span class="line">    <span class="built_in">window</span>.scrollTo(<span class="number">0</span>, c - c / <span class="number">8</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// scrollToTop()</span></span><br></pre></td></tr></table></figure><h2 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h2><h3 id="Get-days-difference-between-dates-获取两个日期间的差距"><a href="#Get-days-difference-between-dates-获取两个日期间的差距" class="headerlink" title="Get days difference between dates (获取两个日期间的差距)"></a>Get days difference between dates (获取两个日期间的差距)</h3><p>计算两个 <code>Date</code> 对象之间的差距（以天为单位）。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getDaysDiffBetweenDates = <span class="function">(<span class="params">dateInitial, dateFinal</span>) =&gt;</span> (dateFinal - dateInitial) / (<span class="number">1000</span> * <span class="number">3600</span> * <span class="number">24</span>);</span><br><span class="line"><span class="comment">// getDaysDiffBetweenDates(new Date("2017-12-13"), new Date("2017-12-22")) -&gt; 9</span></span><br></pre></td></tr></table></figure><h2 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h2><h3 id="Chain-asynchronous-functions-链式异步函数"><a href="#Chain-asynchronous-functions-链式异步函数" class="headerlink" title="Chain asynchronous functions (链式异步函数)"></a>Chain asynchronous functions (链式异步函数)</h3><p>循环遍历包含异步事件的函数数组，当每个异步事件完成时调用 <code>next</code>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> chainAsync = <span class="function"><span class="params">fns</span> =&gt;</span> &#123; <span class="keyword">let</span> curr = <span class="number">0</span>; <span class="keyword">const</span> next = <span class="function"><span class="params">()</span> =&gt;</span> fns[curr++](next); next(); &#125;;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">chainAsync([</span></span><br><span class="line"><span class="comment">  next =&gt; &#123; console.log('0 seconds'); setTimeout(next, 1000); &#125;,</span></span><br><span class="line"><span class="comment">  next =&gt; &#123; console.log('1 second');  setTimeout(next, 1000); &#125;,</span></span><br><span class="line"><span class="comment">  next =&gt; &#123; console.log('2 seconds'); &#125;</span></span><br><span class="line"><span class="comment">])</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h3 id="Curry-函数柯里化"><a href="#Curry-函数柯里化" class="headerlink" title="Curry (函数柯里化)"></a>Curry (函数柯里化)</h3><p>使用递归。<br>如果提供的参数（<code>args</code>）的数量足够，则调用传递的函数 <code>fn</code>，否则返回一个柯里化函数 <code>fn</code>，等待传入剩下的参数。<br>如果你想要一个接受参数数量可变的函数（一个可变参数函数，例如<code>Math.min()</code>），你可以选择将参数个数传递给第二个参数 <code>arity</code>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> curry = <span class="function">(<span class="params">fn, arity = fn.length, ...args</span>) =&gt;</span></span><br><span class="line">  arity &lt;= args.length</span><br><span class="line">    ? fn(...args)</span><br><span class="line">    : curry.bind(<span class="literal">null</span>, fn, arity, ...args);</span><br><span class="line"><span class="comment">// curry(Math.pow)(2)(10) -&gt; 1024</span></span><br><span class="line"><span class="comment">// curry(Math.min, 3)(10)(50)(2) -&gt; 2</span></span><br></pre></td></tr></table></figure><h3 id="Pipe-管道"><a href="#Pipe-管道" class="headerlink" title="Pipe (管道)"></a>Pipe (管道)</h3><p>使用 <code>Array.reduce()</code> 让值在函数间流通。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pipe = <span class="function">(<span class="params">...funcs</span>) =&gt;</span> arg =&gt; funcs.reduce(<span class="function">(<span class="params">acc, func</span>) =&gt;</span> func(acc), arg);</span><br><span class="line"><span class="comment">// pipe(btoa, x =&gt; x.toUpperCase())("Test") -&gt; "VGVZDA=="</span></span><br></pre></td></tr></table></figure><h3 id="Promisify-promise转化"><a href="#Promisify-promise转化" class="headerlink" title="Promisify (promise转化)"></a>Promisify (promise转化)</h3><p>使用 currying 返回一个函数，返回一个调用原始函数的 <code>Promise</code>。<br>使用 <code>...rest</code> 运算符传入所有参数。</p><p><em>In Node 8+, you can use <a href="https://nodejs.org/api/util.html#util_util_promisify_original" target="_blank" rel="noopener"><code>util.promisify</code></a></em></p><p><em>Node 8 版本以上，你可以使用 <a href="https://nodejs.org/api/util.html#util_util_promisify_original" target="_blank" rel="noopener"><code>util.promisify</code></a></em></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promisify = <span class="function"><span class="params">func</span> =&gt;</span></span><br><span class="line">  (...args) =&gt;</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span></span><br><span class="line">      func(...args, (err, result) =&gt;</span><br><span class="line">        err ? reject(err) : resolve(result))</span><br><span class="line">    );</span><br><span class="line"><span class="comment">// const delay = promisify((d, cb) =&gt; setTimeout(cb, d))</span></span><br><span class="line"><span class="comment">// delay(2000).then(() =&gt; console.log('Hi!')) -&gt; Promise resolves after 2s</span></span><br></pre></td></tr></table></figure><h3 id="Run-promises-in-series-队列运行promise"><a href="#Run-promises-in-series-队列运行promise" class="headerlink" title="Run promises in series (队列运行promise)"></a>Run promises in series (队列运行promise)</h3><p>使用 <code>Array.reduce()</code> 通过创建一个 promise 链来运行一系列 promise，每个 promise 在解析时返回下一个 promise。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> series = <span class="function"><span class="params">ps</span> =&gt;</span> ps.reduce(<span class="function">(<span class="params">p, next</span>) =&gt;</span> p.then(next), <span class="built_in">Promise</span>.resolve());</span><br><span class="line"><span class="comment">// const delay = (d) =&gt; new Promise(r =&gt; setTimeout(r, d))</span></span><br><span class="line"><span class="comment">// series([() =&gt; delay(1000), () =&gt; delay(2000)]) -&gt; executes each promise sequentially, taking a total of 3 seconds to complete</span></span><br></pre></td></tr></table></figure><h3 id="Sleep-睡眠"><a href="#Sleep-睡眠" class="headerlink" title="Sleep (睡眠)"></a>Sleep (睡眠)</h3><p>通过返回一个 <code>Promise</code> 延迟执行 <code>async</code> 函数，把它放到睡眠状态。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sleep = <span class="function"><span class="params">ms</span> =&gt;</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> setTimeout(resolve, ms));</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">async function sleepyWork() &#123;</span></span><br><span class="line"><span class="comment">  console.log('I\'m going to sleep for 1 second.');</span></span><br><span class="line"><span class="comment">  await sleep(1000);</span></span><br><span class="line"><span class="comment">  console.log('I woke up after 1 second.');</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h2><h3 id="Collatz-algorithm-考拉兹算法"><a href="#Collatz-algorithm-考拉兹算法" class="headerlink" title="Collatz algorithm (考拉兹算法)"></a>Collatz algorithm (考拉兹算法)</h3><p>如果 <code>n</code> 是偶数，返回 <code>n/2</code>，否则返回 <code>3n+1</code>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> collatz = <span class="function"><span class="params">n</span> =&gt;</span> (n % <span class="number">2</span> == <span class="number">0</span>) ? (n / <span class="number">2</span>) : (<span class="number">3</span> * n + <span class="number">1</span>);</span><br><span class="line"><span class="comment">// collatz(8) --&gt; 4</span></span><br><span class="line"><span class="comment">// collatz(5) --&gt; 16</span></span><br></pre></td></tr></table></figure><h3 id="Distance-between-two-points-两点间的距离"><a href="#Distance-between-two-points-两点间的距离" class="headerlink" title="Distance between two points (两点间的距离)"></a>Distance between two points (两点间的距离)</h3><p>使用 <code>Matg.hypot()</code> 来计算两点间的欧式距离。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> distance = <span class="function">(<span class="params">x0, y0, x1, y1</span>) =&gt;</span> <span class="built_in">Math</span>.hypot(x1 - x0, y1 - y0);</span><br><span class="line"><span class="comment">// distance(1,1, 2,3) -&gt; 2.23606797749979</span></span><br></pre></td></tr></table></figure><h3 id="Divisible-by-number-可否被整除"><a href="#Divisible-by-number-可否被整除" class="headerlink" title="Divisible by number (可否被整除)"></a>Divisible by number (可否被整除)</h3><p>使用模运算符（<code>％</code>）来检查余数是否等于 <code>0</code>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isDivisible = <span class="function">(<span class="params">dividend, divisor</span>) =&gt;</span> dividend % divisor === <span class="number">0</span>;</span><br><span class="line"><span class="comment">// isDivisible(6,3) -&gt; true</span></span><br></pre></td></tr></table></figure><h3 id="Even-or-odd-number-偶数或奇数"><a href="#Even-or-odd-number-偶数或奇数" class="headerlink" title="Even or odd number (偶数或奇数)"></a>Even or odd number (偶数或奇数)</h3><p>使用模运算符（<code>%</code>）来计算一个数为偶数还是奇数。<br>返回 <code>true</code> 为偶数，返回 <code>false</code> 则为奇数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isEven = <span class="function"><span class="params">num</span> =&gt;</span> num % <span class="number">2</span> === <span class="number">0</span>;</span><br><span class="line"><span class="comment">// isEven(3) -&gt; false</span></span><br></pre></td></tr></table></figure><h3 id="Factorial-阶乘"><a href="#Factorial-阶乘" class="headerlink" title="Factorial (阶乘)"></a>Factorial (阶乘)</h3><p>使用递归。<br>如果 <code>n</code> 小于或等于 <code>1</code>，返回 <code>1</code>。<br>其它情况，则返回 <code>n</code> 和 <code>n-1</code> 的阶乘的积。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> factorial = <span class="function"><span class="params">n</span> =&gt;</span> n &lt;= <span class="number">1</span> ? <span class="number">1</span> : n * factorial(n - <span class="number">1</span>);</span><br><span class="line"><span class="comment">// factorial(6) -&gt; 720</span></span><br></pre></td></tr></table></figure><h3 id="Fibonacci-array-generator-斐波纳契数组生成器"><a href="#Fibonacci-array-generator-斐波纳契数组生成器" class="headerlink" title="Fibonacci array generator (斐波纳契数组生成器)"></a>Fibonacci array generator (斐波纳契数组生成器)</h3><p>创建一个指定长度的空数组，初始化前两个值（<code>0</code>和<code>1</code>）。<br>使用 <code>Array.reduce()</code> 将最后两个值的总和添加到数组中（前两个除外）。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fibonacci = <span class="function"><span class="params">n</span> =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>(n).fill(<span class="number">0</span>).reduce(<span class="function">(<span class="params">acc, val, i</span>) =&gt;</span> acc.concat(i &gt; <span class="number">1</span> ? acc[i - <span class="number">1</span>] + acc[i - <span class="number">2</span>] : i), []);</span><br><span class="line"><span class="comment">// fibonacci(5) -&gt; [0,1,1,2,3]</span></span><br></pre></td></tr></table></figure><h3 id="Greatest-common-divisor-GCD-最大公约数-译者注：使用辗转相乘法"><a href="#Greatest-common-divisor-GCD-最大公约数-译者注：使用辗转相乘法" class="headerlink" title="Greatest common divisor (GCD) (最大公约数)(译者注：使用辗转相乘法)"></a>Greatest common divisor (GCD) (最大公约数)(译者注：使用辗转相乘法)</h3><p>使用递归。<br>基本情况是如果 <code>y</code> 等于 <code>0</code>，则返回 <code>x</code>。<br>其它情况下，返回 <code>y</code> 与 <code>x/y</code> 的最大公约数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> gcd = <span class="function">(<span class="params">x, y</span>) =&gt;</span> !y ? x : gcd(y, x % y);</span><br><span class="line"><span class="comment">// gcd (8, 36) -&gt; 4</span></span><br></pre></td></tr></table></figure><h3 id="Hamming-distance-汉明距离"><a href="#Hamming-distance-汉明距离" class="headerlink" title="Hamming distance (汉明距离)"></a>Hamming distance (汉明距离)</h3><p>使用 异或 运算符（<code>^</code>）去查找两个数值间的位差，使用 <code>toString(2)</code> 转换为二进制值，使用 <code>match(/1/g)</code> 计算并返回字符串中 <code>1</code> 的数量。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> hammingDistance = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span></span><br><span class="line">  ((num1 ^ num2).toString(<span class="number">2</span>).match(<span class="regexp">/1/g</span>) || <span class="string">''</span>).length;</span><br><span class="line"><span class="comment">// hammingDistance(2,3) -&gt; 1</span></span><br></pre></td></tr></table></figure><h3 id="Percentile-百分位数"><a href="#Percentile-百分位数" class="headerlink" title="Percentile (百分位数)"></a>Percentile (百分位数)</h3><p>使用百分比公式计算给定数组中有多少个数小于或等于给定值。</p><p>使用Array.reduce()计算值的下面有多少个数是相同的值, 并应用百分比公式。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> percentile = <span class="function">(<span class="params">arr, val</span>) =&gt;</span> </span><br><span class="line">  <span class="number">100</span> * arr.reduce(<span class="function">(<span class="params">acc,v</span>) =&gt;</span> acc + (v &lt; val ? <span class="number">1</span> : <span class="number">0</span>) + (v === val ? <span class="number">0.5</span> : <span class="number">0</span>), <span class="number">0</span>) / arr.length;</span><br><span class="line"><span class="comment">// percentile([1,2,3,4,5,6,7,8,9,10], 6) -&gt; 55</span></span><br></pre></td></tr></table></figure><h3 id="Powerset-幂集"><a href="#Powerset-幂集" class="headerlink" title="Powerset (幂集)"></a>Powerset (幂集)</h3><p>使用 <code>Array.reduce()</code> 与 <code>Array.map()</code> 结合来迭代元素并将其组合成一个包含所有组合的数组。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> powerset = <span class="function"><span class="params">arr</span> =&gt;</span></span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> a.concat(a.map(<span class="function"><span class="params">r</span> =&gt;</span> [v].concat(r))), [[]]);</span><br><span class="line"><span class="comment">// powerset([1,2]) -&gt; [[], [1], [2], [2,1]]</span></span><br></pre></td></tr></table></figure><h3 id="Round-number-to-n-digits-取小数点后-n-位"><a href="#Round-number-to-n-digits-取小数点后-n-位" class="headerlink" title="Round number to n digits (取小数点后 n 位)"></a>Round number to n digits (取小数点后 n 位)</h3><p>使用 <code>Math.round()</code> 和字符串模板将数字四舍五入到指定的位数。<br>省略第二个参数，<code>decimals</code> 将四舍五入到一个整数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> round = <span class="function">(<span class="params">n, decimals=<span class="number">0</span></span>) =&gt;</span> <span class="built_in">Number</span>(<span class="string">`<span class="subst">$&#123;<span class="built_in">Math</span>.round(<span class="string">`<span class="subst">$&#123;n&#125;</span>e<span class="subst">$&#123;decimals&#125;</span>`</span>)&#125;</span>e-<span class="subst">$&#123;decimals&#125;</span>`</span>);</span><br><span class="line"><span class="comment">// round(1.005, 2) -&gt; 1.01</span></span><br></pre></td></tr></table></figure><h3 id="Standard-deviation-标准差"><a href="#Standard-deviation-标准差" class="headerlink" title="Standard deviation (标准差)"></a>Standard deviation (标准差)</h3><p>Use <code>Array.reduce()</code> to calculate the mean, variance and the sum of the variance of the values, the variance of the values, then<br>determine the standard deviation.<br>You can omit the second argument to get the sample standard deviation or set it to <code>true</code> to get the population standard deviation.</p><p>使用 <code>Array.reduce()</code> 来计算平均值，方差以及方差之和，然后确定标准偏差。<br>您可以省略第二个参数来获取样本标准差或将其设置为 <code>true</code> 以获得总体标准差。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> standardDeviation = <span class="function">(<span class="params">arr, usePopulation = <span class="literal">false</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> mean = arr.reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> acc + val, <span class="number">0</span>) / arr.length;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt(</span><br><span class="line">    arr.reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> acc.concat(<span class="built_in">Math</span>.pow(val - mean, <span class="number">2</span>)), [])</span><br><span class="line">       .reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> acc + val, <span class="number">0</span>) / (arr.length - (usePopulation ? <span class="number">0</span> : <span class="number">1</span>))</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// standardDeviation([10,2,38,23,38,23,21]) -&gt; 13.284434142114991 (sample)</span></span><br><span class="line"><span class="comment">// standardDeviation([10,2,38,23,38,23,21], true) -&gt; 12.29899614287479 (population)</span></span><br></pre></td></tr></table></figure><h2 id="Media-媒体"><a href="#Media-媒体" class="headerlink" title="Media (媒体)"></a>Media (媒体)</h2><h3 id="Speech-synthesis-experimental-语音合成-试验功能"><a href="#Speech-synthesis-experimental-语音合成-试验功能" class="headerlink" title="Speech synthesis (experimental) 语音合成(试验功能)"></a>Speech synthesis (experimental) 语音合成(试验功能)</h3><p>使用 <code>SpeechSynthesisUtterance.voice</code> 和 <code>indow.speechSynthesis.getVoices()</code> 将消息转换为语音。<br>使用 <code>window.speechSynthesis.speak()</code> 来播放消息。</p><p>了解更多关于 <a href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesisUtterance" target="_blank" rel="noopener">SpeechSynthesisUtterance interface of the Web Speech API</a>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> speak = <span class="function"><span class="params">message</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> msg = <span class="keyword">new</span> SpeechSynthesisUtterance(message);</span><br><span class="line">  msg.voice = <span class="built_in">window</span>.speechSynthesis.getVoices()[<span class="number">0</span>];</span><br><span class="line">  <span class="built_in">window</span>.speechSynthesis.speak(msg);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// speak('Hello, World') -&gt; plays the message</span></span><br></pre></td></tr></table></figure><h2 id="Object-对象"><a href="#Object-对象" class="headerlink" title="Object (对象)"></a>Object (对象)</h2><h3 id="Object-from-key-value-pairs-键值对创建对象"><a href="#Object-from-key-value-pairs-键值对创建对象" class="headerlink" title="Object from key-value pairs (键值对创建对象)"></a>Object from key-value pairs (键值对创建对象)</h3><p>使用 <code>Array.reduce()</code> 创建和组合键值对。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> objectFromPairs = <span class="function"><span class="params">arr</span> =&gt;</span> arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> (a[v[<span class="number">0</span>]] = v[<span class="number">1</span>], a), &#123;&#125;);</span><br><span class="line"><span class="comment">// objectFromPairs([['a',1],['b',2]]) -&gt; &#123;a: 1, b: 2&#125;</span></span><br></pre></td></tr></table></figure><h3 id="Object-to-key-value-pairs-对象生成键值对"><a href="#Object-to-key-value-pairs-对象生成键值对" class="headerlink" title="Object to key-value pairs (对象生成键值对)"></a>Object to key-value pairs (对象生成键值对)</h3><p>使用 <code>Object.keys()</code> 和 <code>Array.map()</code> 去遍历对象的键并生成一个包含键值对的数组。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> objectToPairs = <span class="function"><span class="params">obj</span> =&gt;</span> <span class="built_in">Object</span>.keys(obj).map(<span class="function"><span class="params">k</span> =&gt;</span> [k, obj[k]]);</span><br><span class="line"><span class="comment">// objectToPairs(&#123;a: 1, b: 2&#125;) -&gt; [['a',1],['b',2]])</span></span><br></pre></td></tr></table></figure><h3 id="Shallow-clone-object-浅拷贝对象"><a href="#Shallow-clone-object-浅拷贝对象" class="headerlink" title="Shallow clone object (浅拷贝对象)"></a>Shallow clone object (浅拷贝对象)</h3><p>使用 <code>...spread</code> 扩展运算符将目标对象的属性添加到拷贝对象中。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shallowClone = <span class="function"><span class="params">obj</span> =&gt;</span> (&#123; ...obj &#125;);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">const a = &#123; x: true, y: 1 &#125;;</span></span><br><span class="line"><span class="comment">const b = shallowClone(a);</span></span><br><span class="line"><span class="comment">a === b -&gt; false</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="String-字符串"><a href="#String-字符串" class="headerlink" title="String (字符串)"></a>String (字符串)</h2><h3 id="Anagrams-of-string-with-duplicates-字符串异位-和重复"><a href="#Anagrams-of-string-with-duplicates-字符串异位-和重复" class="headerlink" title="Anagrams of string (with duplicates) (字符串异位(和重复))"></a>Anagrams of string (with duplicates) (字符串异位(和重复))</h3><p>使用递归。<br>遍历给定字符串中的每个字母，用其余字母创建所有部分字母。<br>使用 <code>Array.map()</code> 将字母与每个部分字母组合，然后使用 <code>Array.reduce()</code> 将所有字母组合到一个数组中。<br>当给定字符串数量等与 <code>2</code> 或 <code>1</code> 时做简单处理。＝</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> anagrams = <span class="function"><span class="params">str</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (str.length &lt;= <span class="number">2</span>) <span class="keyword">return</span> str.length === <span class="number">2</span> ? [str, str[<span class="number">1</span>] + str[<span class="number">0</span>]] : [str];</span><br><span class="line">  <span class="keyword">return</span> str.split(<span class="string">''</span>).reduce(<span class="function">(<span class="params">acc, letter, i</span>) =&gt;</span></span><br><span class="line">    acc.concat(anagrams(str.slice(<span class="number">0</span>, i) + str.slice(i + <span class="number">1</span>)).map(<span class="function"><span class="params">val</span> =&gt;</span> letter + val)), []);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// anagrams('abc') -&gt; ['abc','acb','bac','bca','cab','cba']</span></span><br></pre></td></tr></table></figure><h3 id="Capitalize-first-letter-of-every-word-所有单词的第一个字母大写"><a href="#Capitalize-first-letter-of-every-word-所有单词的第一个字母大写" class="headerlink" title="Capitalize first letter of every word (所有单词的第一个字母大写)"></a>Capitalize first letter of every word (所有单词的第一个字母大写)</h3><p>使用 <code>replace()</code> 去查找单词的第一个字母并使用 <code>toUpperCase()</code> 改为大写。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> capitalizeEveryWord = <span class="function"><span class="params">str</span> =&gt;</span> str.replace(<span class="regexp">/\b[a-z]/g</span>, char =&gt; char.toUpperCase());</span><br><span class="line"><span class="comment">// capitalizeEveryWord('hello world!') -&gt; 'Hello World!'</span></span><br></pre></td></tr></table></figure><h3 id="Capitalize-first-letter-单词的第一个字母大写"><a href="#Capitalize-first-letter-单词的第一个字母大写" class="headerlink" title="Capitalize first letter (单词的第一个字母大写)"></a>Capitalize first letter (单词的第一个字母大写)</h3><p>使用 <code>slice(0,1)</code> 和 <code>toUpperCase()</code> 将首字母大写，使用 <code>slice(1)</code> 得到字符串的其余部分。<br>忽略 <code>lowerRest</code> 参数以保持字符串的其余部分不变，或者将其设置为 <code>true</code> 以转换为小写字母。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> capitalize = <span class="function">(<span class="params">str, lowerRest = <span class="literal">false</span></span>) =&gt;</span></span><br><span class="line">  str.slice(<span class="number">0</span>, <span class="number">1</span>).toUpperCase() + (lowerRest ? str.slice(<span class="number">1</span>).toLowerCase() : str.slice(<span class="number">1</span>));</span><br><span class="line"><span class="comment">// capitalize('myName', true) -&gt; 'Myname'</span></span><br></pre></td></tr></table></figure><h3 id="Check-for-palindrome-检查回文"><a href="#Check-for-palindrome-检查回文" class="headerlink" title="Check for palindrome (检查回文)"></a>Check for palindrome (检查回文)</h3><p>使用 <code>toLowerCase()</code> 转换字符串并用 <code>replace()</code> 删除其中的非字母数字字符。<br>然后，使用 <code>split(&#39;&#39;)</code> 分散为单个字符，再使用 <code>reverse()</code> 和 <code>join(&#39;&#39;)</code> 倒序合并后与原字符进行比较。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> palindrome = <span class="function"><span class="params">str</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> s = str.toLowerCase().replace(<span class="regexp">/[\W_]/g</span>,<span class="string">''</span>);</span><br><span class="line">  <span class="keyword">return</span> s === s.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// palindrome('taco cat') -&gt; true</span></span><br></pre></td></tr></table></figure><h3 id="Reverse-a-string-反转一个字符串"><a href="#Reverse-a-string-反转一个字符串" class="headerlink" title="Reverse a string (反转一个字符串)"></a>Reverse a string (反转一个字符串)</h3><p>使用数组解构和 <code>Array.reverse()</code> 来反转字符串中字符的顺序。<br>使用 <code>join(&#39;&#39;)</code> 组合字符获得一个字符串。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reverseString = <span class="function"><span class="params">str</span> =&gt;</span> [...str].reverse().join(<span class="string">''</span>);</span><br><span class="line"><span class="comment">// reverseString('foobar') -&gt; 'raboof'</span></span><br></pre></td></tr></table></figure><h3 id="Sort-characters-in-string-alphabetical-字符串排序（按字母顺序排列）"><a href="#Sort-characters-in-string-alphabetical-字符串排序（按字母顺序排列）" class="headerlink" title="Sort characters in string (alphabetical) 字符串排序（按字母顺序排列）"></a>Sort characters in string (alphabetical) 字符串排序（按字母顺序排列）</h3><p>使用 <code>split(&#39;&#39;)</code> 切割字符串，使用 <code>Array.sort</code> 通过 <code>localeCompare()</code> 去排序，再使用 <code>join(&#39;&#39;)</code> 组合。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sortCharactersInString = <span class="function"><span class="params">str</span> =&gt;</span></span><br><span class="line">  str.split(<span class="string">''</span>).sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a.localeCompare(b)).join(<span class="string">''</span>);</span><br><span class="line"><span class="comment">// sortCharactersInString('cabbage') -&gt; 'aabbceg'</span></span><br></pre></td></tr></table></figure><h3 id="Truncate-a-String-字符串截断"><a href="#Truncate-a-String-字符串截断" class="headerlink" title="Truncate a String (字符串截断)"></a>Truncate a String (字符串截断)</h3><p>确定字符串的长度是否大于 <code>num</code>。<br>将字符串截断为所需的长度，在末尾或原始字符串后附加 <code>...</code>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> truncate = <span class="function">(<span class="params">str, num</span>) =&gt;</span></span><br><span class="line">  str.length &gt; num ? str.slice(<span class="number">0</span>, num &gt; <span class="number">3</span> ? num - <span class="number">3</span> : num) + <span class="string">'...'</span> : str;</span><br><span class="line"><span class="comment">// truncate('boomerang', 7) -&gt; 'boom...'</span></span><br></pre></td></tr></table></figure><h2 id="Utility-效率工具"><a href="#Utility-效率工具" class="headerlink" title="Utility (效率工具)"></a>Utility (效率工具)</h2><h3 id="Escape-regular-expression-转义正则表达式"><a href="#Escape-regular-expression-转义正则表达式" class="headerlink" title="Escape regular expression (转义正则表达式)"></a>Escape regular expression (转义正则表达式)</h3><p>使用 <code>replace()</code> 去转义特殊字符。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> escapeRegExp = <span class="function"><span class="params">str</span> =&gt;</span> str.replace(<span class="regexp">/[.*+?^$&#123;&#125;()|[\]\\]/g</span>, <span class="string">'\\$&amp;'</span>);</span><br><span class="line"><span class="comment">// escapeRegExp('(test)') -&gt; \\(test\\)</span></span><br></pre></td></tr></table></figure><h3 id="Get-native-type-of-value-获取值的原始类型"><a href="#Get-native-type-of-value-获取值的原始类型" class="headerlink" title="Get native type of value (获取值的原始类型)"></a>Get native type of value (获取值的原始类型)</h3><p>返回值的构造函数名称的小写字符，值为 <code>undefined</code> 或 <code>null</code> 时则返回 <code>undefined</code> 或 <code>null</code>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getType = <span class="function"><span class="params">v</span> =&gt;</span></span><br><span class="line">  v === <span class="literal">undefined</span> ? <span class="string">'undefined'</span> : v === <span class="literal">null</span> ? <span class="string">'null'</span> : v.constructor.name.toLowerCase();</span><br><span class="line"><span class="comment">// getType(new Set([1,2,3])) -&gt; "set"</span></span><br></pre></td></tr></table></figure><h3 id="Is-array-是否是数组"><a href="#Is-array-是否是数组" class="headerlink" title="Is array (是否是数组)"></a>Is array (是否是数组)</h3><p>使用 <code>Array.isArray()</code> 去检查值是否为数组。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isArray = <span class="function"><span class="params">val</span> =&gt;</span> !!val &amp;&amp; <span class="built_in">Array</span>.isArray(val);</span><br><span class="line"><span class="comment">// isArray(null) -&gt; false</span></span><br><span class="line"><span class="comment">// isArray([1]) -&gt; true</span></span><br></pre></td></tr></table></figure><h3 id="Is-boolean-是否为布尔值"><a href="#Is-boolean-是否为布尔值" class="headerlink" title="Is boolean (是否为布尔值)"></a>Is boolean (是否为布尔值)</h3><p>使用 <code>typeof</code> 去检查值是否为原始布尔值类型。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isBoolean = <span class="function"><span class="params">val</span> =&gt;</span> <span class="keyword">typeof</span> val === <span class="string">'boolean'</span>;</span><br><span class="line"><span class="comment">// isBoolean(null) -&gt; false</span></span><br><span class="line"><span class="comment">// isBoolean(false) -&gt; true</span></span><br></pre></td></tr></table></figure><h3 id="Is-function-是否为函数"><a href="#Is-function-是否为函数" class="headerlink" title="Is function (是否为函数)"></a>Is function (是否为函数)</h3><p>使用 <code>typeof</code> 去检查值是否为函数原始类型。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isFunction = <span class="function"><span class="params">val</span> =&gt;</span> val &amp;&amp; <span class="keyword">typeof</span> val === <span class="string">'function'</span>;</span><br><span class="line"><span class="comment">// isFunction('x') -&gt; false</span></span><br><span class="line"><span class="comment">// isFunction(x =&gt; x) -&gt; true</span></span><br></pre></td></tr></table></figure><h3 id="Is-number-是否为数值"><a href="#Is-number-是否为数值" class="headerlink" title="Is number (是否为数值)"></a>Is number (是否为数值)</h3><p>使用 <code>typeof</code> 去检查值是否为数值原始类型。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isNumber = <span class="function"><span class="params">val</span> =&gt;</span> <span class="keyword">typeof</span> val === <span class="string">'number'</span>;</span><br><span class="line"><span class="comment">// isNumber('1') -&gt; false</span></span><br><span class="line"><span class="comment">// isNumber(1) -&gt; true</span></span><br></pre></td></tr></table></figure><h3 id="Is-string-是否为字符串"><a href="#Is-string-是否为字符串" class="headerlink" title="Is string (是否为字符串)"></a>Is string (是否为字符串)</h3><p>使用 <code>typeof</code> 去检查值是否为字符串原始类型。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isString = <span class="function"><span class="params">val</span> =&gt;</span> <span class="keyword">typeof</span> val === <span class="string">'string'</span>;</span><br><span class="line"><span class="comment">// isString(10) -&gt; false</span></span><br><span class="line"><span class="comment">// isString('10') -&gt; true</span></span><br></pre></td></tr></table></figure><h3 id="Is-symbol-是否为-symbol-类型"><a href="#Is-symbol-是否为-symbol-类型" class="headerlink" title="Is symbol (是否为 symbol 类型)"></a>Is symbol (是否为 symbol 类型)</h3><p>使用 <code>typeof</code> 去检查值是否为 symbol 原始类型。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isSymbol = <span class="function"><span class="params">val</span> =&gt;</span> <span class="keyword">typeof</span> val === <span class="string">'symbol'</span>;</span><br><span class="line"><span class="comment">// isSymbol('x') -&gt; false</span></span><br><span class="line"><span class="comment">// isSymbol(Symbol('x')) -&gt; true</span></span><br></pre></td></tr></table></figure><h3 id="Measure-time-taken-by-function-测量函数的耗时"><a href="#Measure-time-taken-by-function-测量函数的耗时" class="headerlink" title="Measure time taken by function (测量函数的耗时)"></a>Measure time taken by function (测量函数的耗时)</h3><p>使用 <code>console.time()</code> 和 <code>console.timeEnd()</code> 来测量开始和结束时间之间的差异，以确定回调执行的时间。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> timeTaken = <span class="function"><span class="params">callback</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.time(<span class="string">'timeTaken'</span>);</span><br><span class="line">  <span class="keyword">const</span> r = callback();</span><br><span class="line">  <span class="built_in">console</span>.timeEnd(<span class="string">'timeTaken'</span>);</span><br><span class="line">  <span class="keyword">return</span> r;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// timeTaken(() =&gt; Math.pow(2, 10)) -&gt; 1024</span></span><br><span class="line"><span class="comment">// (logged): timeTaken: 0.02099609375ms</span></span><br></pre></td></tr></table></figure><h3 id="Number-to-array-of-digits-数值转换为数组"><a href="#Number-to-array-of-digits-数值转换为数组" class="headerlink" title="Number to array of digits (数值转换为数组)"></a>Number to array of digits (数值转换为数组)</h3><p>将数值转换为字符串，使用 <code>split()</code> 分割为数组。<br>再使用 <code>Array.map()</code> 和 <code>parseInt()</code> 将每个值转换为整数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> digitize = <span class="function"><span class="params">n</span> =&gt;</span> (<span class="string">''</span>+n).split(<span class="string">''</span>).map(<span class="function"><span class="params">i</span> =&gt;</span> <span class="built_in">parseInt</span>(i));</span><br><span class="line"><span class="comment">// digitize(2334) -&gt; [2, 3, 3, 4]</span></span><br></pre></td></tr></table></figure><h3 id="Ordinal-suffix-of-number-（数值增加序号后缀）"><a href="#Ordinal-suffix-of-number-（数值增加序号后缀）" class="headerlink" title="Ordinal suffix of number （数值增加序号后缀）"></a>Ordinal suffix of number （数值增加序号后缀）</h3><p>Use the modulo operator (<code>%</code>) to find values of single and tens digits.<br>Find which ordinal pattern digits match.<br>If digit is found in teens pattern, use teens ordinal.</p><p>使用模运算符（<code>％</code>）来查找单位数和十位数的值。<br>查找数字匹配哪些序号模式。<br>如果数字在十几的模式中找到，请使用的十几的序数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toOrdinalSuffix = <span class="function"><span class="params">num</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> int = <span class="built_in">parseInt</span>(num), digits = [(int % <span class="number">10</span>), (int % <span class="number">100</span>)],</span><br><span class="line">    ordinals = [<span class="string">'st'</span>, <span class="string">'nd'</span>, <span class="string">'rd'</span>, <span class="string">'th'</span>], oPattern = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">    tPattern = [<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>];</span><br><span class="line">  <span class="keyword">return</span> oPattern.includes(digits[<span class="number">0</span>]) &amp;&amp; !tPattern.includes(digits[<span class="number">1</span>]) ? int + ordinals[digits[<span class="number">0</span>] - <span class="number">1</span>] : int + ordinals[<span class="number">3</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// toOrdinalSuffix("123") -&gt; "123rd"</span></span><br></pre></td></tr></table></figure><h3 id="Random-integer-in-range-指定范围内的随机整数"><a href="#Random-integer-in-range-指定范围内的随机整数" class="headerlink" title="Random integer in range (指定范围内的随机整数)"></a>Random integer in range (指定范围内的随机整数)</h3><p>使用 <code>Math.random()</code> 去生成一个在指定范围内的随机数，使用 <code>Math.floor()</code> 将其转换为整数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> randomIntegerInRange = <span class="function">(<span class="params">min, max</span>) =&gt;</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min + <span class="number">1</span>)) + min;</span><br><span class="line"><span class="comment">// randomIntegerInRange(0, 5) -&gt; 2</span></span><br></pre></td></tr></table></figure><h3 id="Random-number-in-range-指定范围内的随机数"><a href="#Random-number-in-range-指定范围内的随机数" class="headerlink" title="Random number in range (指定范围内的随机数)"></a>Random number in range (指定范围内的随机数)</h3><p>使用 <code>Math.random()</code> 去生成一个在指定范围内的随机数。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> randomInRange = <span class="function">(<span class="params">min, max</span>) =&gt;</span> <span class="built_in">Math</span>.random() * (max - min) + min;</span><br><span class="line"><span class="comment">// randomInRange(2,10) -&gt; 6.0211363285087005</span></span><br></pre></td></tr></table></figure><h3 id="RGB-to-hexadecimal-RGB转十六进制"><a href="#RGB-to-hexadecimal-RGB转十六进制" class="headerlink" title="RGB to hexadecimal (RGB转十六进制)"></a>RGB to hexadecimal (RGB转十六进制)</h3><p>使用按位左移运算符（<code>&lt;&lt;</code>）和 <code>toString(16)</code> 将 RGB 参数转换为十六进制，然后使用 <code>padStart(6, &#39;0&#39;)</code> 去获取6位数的十六进制。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> rgbToHex = <span class="function">(<span class="params">r, g, b</span>) =&gt;</span> ((r &lt;&lt; <span class="number">16</span>) + (g &lt;&lt; <span class="number">8</span>) + b).toString(<span class="number">16</span>).padStart(<span class="number">6</span>, <span class="string">'0'</span>);</span><br><span class="line"><span class="comment">// rgbToHex(255, 165, 1) -&gt; 'ffa501'</span></span><br></pre></td></tr></table></figure><h3 id="Swap-values-of-two-variables-交换两个变量的值"><a href="#Swap-values-of-two-variables-交换两个变量的值" class="headerlink" title="Swap values of two variables (交换两个变量的值)"></a>Swap values of two variables (交换两个变量的值)</h3><p>使用数组解构来交换两个变量之间的值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[varA, varB] = [varB, varA];</span><br><span class="line"><span class="comment">// [x, y] = [y, x]</span></span><br></pre></td></tr></table></figure><h3 id="URL-parameters-（URL参数）"><a href="#URL-parameters-（URL参数）" class="headerlink" title="URL parameters （URL参数）"></a>URL parameters （URL参数）</h3><p>使用 <code>match()</code> 和一个合适的正则去获取所有键值对，使用 <code>Array.reduce()</code> 合并到一个对象中。<br>允许将 <code>location.search</code> 作为参数传递。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getUrlParameters = <span class="function"><span class="params">url</span> =&gt;</span></span><br><span class="line">  url.match(<span class="regexp">/([^?=&amp;]+)(=([^&amp;]*))/g</span>).reduce(</span><br><span class="line">    (a, v) =&gt; (a[v.slice(<span class="number">0</span>, v.indexOf(<span class="string">'='</span>))] = v.slice(v.indexOf(<span class="string">'='</span>) + <span class="number">1</span>), a), &#123;&#125;</span><br><span class="line">  );</span><br><span class="line"><span class="comment">// getUrlParameters('http://url.com/page?name=Adam&amp;surname=Smith') -&gt; &#123;name: 'Adam', surname: 'Smith'&#125;</span></span><br></pre></td></tr></table></figure><h3 id="UUID-generator-（UUID生成器）"><a href="#UUID-generator-（UUID生成器）" class="headerlink" title="UUID generator （UUID生成器）"></a>UUID generator （UUID生成器）</h3><p>使用 <code>crypto</code> API 生成符合 <a href="https://www.ietf.org/rfc/rfc4122.txt" target="_blank" rel="noopener">RFC4122</a> 版本4的UUID。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> uuid = <span class="function"><span class="params">_</span> =&gt;</span></span><br><span class="line">  ([<span class="number">1e7</span>] + <span class="number">-1e3</span> + <span class="number">-4e3</span> + <span class="number">-8e3</span> + <span class="number">-1e11</span>).replace(<span class="regexp">/[018]/g</span>, c =&gt;</span><br><span class="line">    (c ^ crypto.getRandomValues(<span class="keyword">new</span> <span class="built_in">Uint8Array</span>(<span class="number">1</span>))[<span class="number">0</span>] &amp; <span class="number">15</span> &gt;&gt; c / <span class="number">4</span>).toString(<span class="number">16</span>)</span><br><span class="line">  );</span><br><span class="line"><span class="comment">// uuid() -&gt; '7982fcfe-5721-4632-bede-6000885be57d'</span></span><br></pre></td></tr></table></figure><h3 id="Validate-email-（校验邮箱）"><a href="#Validate-email-（校验邮箱）" class="headerlink" title="Validate email （校验邮箱）"></a>Validate email （校验邮箱）</h3><p>Use a regular experssion to check if the email is valid.<br>Returns <code>true</code> if email is valid, <code>false</code> if not.</p><p>使用正则表达式去检验邮箱格式。<br>返回 <code>true</code> 表示邮箱格式正确，<code>false</code> 则不正确。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> validateEmail = <span class="function"><span class="params">str</span> =&gt;</span></span><br><span class="line">  /^(([^<span class="xml"><span class="tag">&lt;&gt;</span>()\[\]\\.,;:\s@"]+(\.[^<span class="tag">&lt;&gt;</span>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]&#123;2,&#125;))$/.test(str);</span></span><br><span class="line"><span class="xml">// validateEmail(mymail@gmail.com) -&gt; true</span></span><br></pre></td></tr></table></figure><h3 id="Validate-number-（校验数值）"><a href="#Validate-number-（校验数值）" class="headerlink" title="Validate number （校验数值）"></a>Validate number （校验数值）</h3><p>使用 <code>!isNaN</code> 和 <code>parseFloat()</code> 来检查参数是否是一个数字（或允许转换为数值）。<br>使用 <code>isFinite()</code> 来检查数字是否是有限的。<br>使用 Number() 来检查数值转换是否成立。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> validateNumber = <span class="function"><span class="params">n</span> =&gt;</span> !<span class="built_in">isNaN</span>(<span class="built_in">parseFloat</span>(n)) &amp;&amp; <span class="built_in">isFinite</span>(n) &amp;&amp; <span class="built_in">Number</span>(n) == n;</span><br><span class="line"><span class="comment">// validateNumber('10') -&gt; true</span></span><br></pre></td></tr></table></figure><h3 id="Value-or-default-（值或默认值）"><a href="#Value-or-default-（值或默认值）" class="headerlink" title="Value or default （值或默认值）"></a>Value or default （值或默认值）</h3><p>默认返回 <code>value</code> 如果 <code>value</code> 为假，则返回默认值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> valueOrDefault = <span class="function">(<span class="params">value, d</span>) =&gt;</span> value || d;</span><br><span class="line"><span class="comment">// valueOrDefault(NaN, 30) -&gt; 30</span></span><br></pre></td></tr></table></figure><div class="post-announce">感谢您的阅读，本文由 <a href="http://blog.minfive.com">MINFIVE</a> 版权所有。如若转载，请注明出处：MINFIVE（<a href="http://blog.minfive.com/2018/01/07/2018-01-07-30-seconds-of-code-translate/">http://blog.minfive.com/2018/01/07/2018-01-07-30-seconds-of-code-translate/</a>）</div><div class="post__prevs"><div class="post__prev"><a href="/2018/01/03/2018-01-03-2017-summary/" title="2017年个人总结"><i class="iconfont icon-prev"></i>2017年个人总结</a></div><div class="post__prev post__prev--right"><a href="/2018/02/23/2018-02-23-css-hacker/" title="使用 Css 获取用户密码">使用 Css 获取用户密码<i class="iconfont icon-next"></i></a></div></div></div></article><div id="comment-container"></div></div><aside class="page__sidebar"><form id="page-search-from" class="page__search-from" action="/search/"><label class="search-form__item"><input class="input" type="text" name="search" placeholder="Search..."> <i class="iconfont icon-search"></i></label></form><div class="sidebar__block"><h3 class="block__title">简介</h3><p class="block__text">日常学习与兴趣交流的个人博客</p></div><div class="sidebar__block"><h3 class="block__title">文章分类</h3><ul class="block-list"><li class="block-list-item"><a class="block-list-link" href="/categories/读书笔记/">读书笔记</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/经验总结/">经验总结</a><span class="block-list-count">4</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/日常学习/">日常学习</a><span class="block-list-count">9</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/文章转发/">文章转发</a><span class="block-list-count">1</span></li></ul></div><div class="sidebar__block"><h3 class="block__title">最新文章</h3><ul class="block-list latest-post-list"><li class="latest-post-item"><a href="/2018/08/05/2018-08-05-user-centered-design/" title="读《用户体验要素》总结"><div class="item__cover"><img src="https://blog.static.minfive.com/post/18-08-05/843d1948e85e20653861c115389cc7cf.jpg" alt="读《用户体验要素》总结"></div><div class="item__info"><h3 class="item__title">读《用户体验要素》总结</h3><span class="item__text">2018年8月5日</span></div></a></li><li class="latest-post-item"><a href="/2018/03/03/2018-03-03-vue-permission-control/" title="关于 Vue 的路由权限管理"><div class="item__cover"><img src="https://blog.static.minfive.com/post/18-03-03/vue-router.jpg" alt="关于 Vue 的路由权限管理"></div><div class="item__info"><h3 class="item__title">关于 Vue 的路由权限管理</h3><span class="item__text">2018年3月3日</span></div></a></li><li class="latest-post-item"><a href="/2018/02/23/2018-02-23-css-hacker/" title="使用 Css 获取用户密码"><div class="item__cover"><img src="https://blog.static.minfive.com/post/18-02-23/112054010556572.png" alt="使用 Css 获取用户密码"></div><div class="item__info"><h3 class="item__title">使用 Css 获取用户密码</h3><span class="item__text">2018年2月23日</span></div></a></li><li class="latest-post-item"><a href="/2018/01/07/2018-01-07-30-seconds-of-code-translate/" title="30s代码片段翻译"><div class="item__cover"><img src="https://blog.static.minfive.com/post/18-01-07/30-secinds-of-code.png" alt="30s代码片段翻译"></div><div class="item__info"><h3 class="item__title">30s代码片段翻译</h3><span class="item__text">2018年1月7日</span></div></a></li></ul></div><div class="sidebar__block"><h3 class="block__title">文章标签</h3><ul class="block-list tag-list clearfix"><li class="tag-item"><a class="tag-link" href="/tags/css/">css</a></li><li class="tag-item"><a class="tag-link" href="/tags/css-modules/">css modules</a></li><li class="tag-item"><a class="tag-link" href="/tags/git/">git</a></li><li class="tag-item"><a class="tag-link" href="/tags/javascript/">javascript</a></li><li class="tag-item"><a class="tag-link" href="/tags/postcss/">postcss</a></li><li class="tag-item"><a class="tag-link" href="/tags/vue/">vue</a></li><li class="tag-item"><a class="tag-link" href="/tags/wechat/">wechat</a></li><li class="tag-item"><a class="tag-link" href="/tags/产品/">产品</a></li><li class="tag-item"><a class="tag-link" href="/tags/代码规范/">代码规范</a></li><li class="tag-item"><a class="tag-link" href="/tags/学习/">学习</a></li><li class="tag-item"><a class="tag-link" href="/tags/安全/">安全</a></li><li class="tag-item"><a class="tag-link" href="/tags/总结/">总结</a></li><li class="tag-item"><a class="tag-link" href="/tags/权限管理/">权限管理</a></li><li class="tag-item"><a class="tag-link" href="/tags/百度ife/">百度ife</a></li><li class="tag-item"><a class="tag-link" href="/tags/翻译/">翻译</a></li><li class="tag-item"><a class="tag-link" href="/tags/自动化/">自动化</a></li><li class="tag-item"><a class="tag-link" href="/tags/规范/">规范</a></li><li class="tag-item"><a class="tag-link" href="/tags/读书/">读书</a></li><li class="tag-item"><a class="tag-link" href="/tags/转发/">转发</a></li></ul></div></aside></main><footer class="page__footer"><section class="footer__top"><div class="page__container footer__container"><div class="footer-top__item footer-top__item--2"><h3 class="item__title">关于</h3><div class="item__content"><p class="item__text">本站是基于 Hexo 搭建的静态资源博客，主要用于分享日常学习、生活及工作的一些心得总结，欢迎点击右下角订阅 rss。</p><ul class="footer__contact-info"><li class="contact-info__item"><i class="iconfont icon-address"></i> <span>Guangzhou, Guangdong Province, China</span></li><li class="contact-info__item"><i class="iconfont icon-email2"></i> <span>chenxiaowu1994@outlook.com</span></li></ul></div></div><div class="footer-top__item footer__image"><img src="https://blog.static.minfive.com/other/qrcode.png" alt="logo" title="MINFIVE"></div><div class="footer-top__item"><h3 class="item__title">友情链接</h3><div class="item__content"><ul class="footer-top__list"><li class="list-item"><a href="https://blog.liufulin.online" title="formattedzz" target="_blank">formattedzz</a></li><li class="list-item"><a href="https://jdc.jd.com" title="京东设计中心" target="_blank">JDC京东设计中心</a></li><li class="list-item"><a href="https://aotu.io/" title="京东凹凸实验室" target="_blank">凹凸实验室</a></li><li class="list-item"><a href="http://fex.baidu.com" title="百度Web前端研发部" target="_blank">百度FEX</a></li><li class="list-item"><a href="http://taobaofed.org" title="淘宝前端团队" target="_blank">淘宝FED</a></li><li class="list-item"><a href="http://tgideas.qq.com" title="腾讯互娱设计中心" target="_blank">TGIdeas</a></li><li class="list-item"><a href="http://isux.tencent.com" title="腾讯SNG设计中心" target="_blank">ISUX</a></li></ul></div></div><div class="footer-top__item"><h3 class="item__title">构建工具</h3><div class="item__content"><ul class="footer-top__list"><li class="list-item"><a href="https://hexo.io/" title="Blog Framework" target="_blank">Hexo</a></li><li class="list-item"><a href="http://sass-lang.com/" title="Syntactically Awesome StyleSheets" target="_blank">Sass</a></li><li class="list-item"><a href="http://node-swig.github.io/swig-templates/" title="JavaScript Template Engine" target="_blank">Swig</a></li></ul></div></div></div></section><section class="footer__bottom"><div class="page__container footer__container"><p class="footer__copyright">© <a href="https://github.com/Mrminfive/hexo-theme-skapp" target="_blank">Skapp</a> 2017 powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, made by <a href="https://github.com/Mrminfive" target="_blank">minfive</a>.</p><ul class="footer__social-network clearfix"><li class="social-network__item"><a href="https://github.com/Mrminfive" target="_blank" title="github"><i class="iconfont icon-github"></i></a></li><li class="social-network__item"><a href="https://www.zhihu.com/people/zuo-er-duo-dong-wu" target="_blank" title="zhihu"><i class="iconfont icon-zhihu"></i></a></li><li class="social-network__item"><a href="http://weibo.com/p/1005056092592491" target="_blank" title="weibo"><i class="iconfont icon-weibo"></i></a></li><li class="social-network__item"><a href="mailto:chenxiaowu1994@outlook.com" target="_blank" title="email"><i class="iconfont icon-email"></i></a></li><li class="social-network__item"><a href="/atom.xml" target="_blank" title="rss"><i class="iconfont icon-rss"></i></a></li></ul></div></section></footer><div id="back-top" class="back-top back-top--hidden js-hidden"><i class="iconfont icon-top"></i></div></div><script src="/js/common.js"></script><script src="/js/page/post.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script src="/js/md5.min.js"></script><script>var tags=["javascript","翻译"],gitalk=new Gitalk({clientID:"fb94bfd31f8b097f6ba1",clientSecret:"8143d1da1e4189b423189357d58e379a9f7893a2",repo:"Mrminfive.github.io",owner:"Mrminfive",admin:["Mrminfive"],labels:tags,id:new Date(15152544e5).getTime()>new Date("2018-02-15").getTime()?md5(location.href):location.href});gitalk.render("comment-container")</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body></html>